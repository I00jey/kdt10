<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise prac 3</title>
</head>

<body>

    <head>콜백지옥 예시</head>
</body>
<script>
    // setTimeout(() => {
    //     document.body.style.backgroundColor = 'red';
    //     setTimeout(() => {
    //         document.body.style.backgroundColor = 'orange';
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'yellow';
    //             setTimeout(() => {
    //                 document.body.style.backgroundColor = 'green';
    //                 setTimeout(() => {
    //                     document.body.style.backgroundColor = 'blue';
    //                 }, 1000);
    //             }, 1000);
    //         }, 1000);
    //     }, 1000);
    // }, 1000);

    // 내 풀이
    // function red() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'red';
    //             resolve();
    //         }, 1000);
    //     })
    // }
    // function orange() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'orange';
    //             resolve();
    //         }, 1000);
    //     })
    // }
    // function yellow() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'yellow';
    //             resolve();
    //         }, 1000);
    //     })
    // }
    // function green() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'green';
    //             resolve();
    //         }, 1000);
    //     })
    // }
    // function blue() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(() => {
    //             document.body.style.backgroundColor = 'blue';
    //             resolve();
    //         }, 1000);
    //     })
    // }
    // async function exec(){
    //     await red();
    //     await orange();
    //     await yellow();
    //     await green();
    //     await blue();
    // }
    // exec();

    // 다른 방법
    let color;
    function colorChange(color) {
        return new Promise((resolve, reject)=>{
            setTimeout(() => {
                document.body.style.backgroundColor = color;
                resolve();
            }, 1000);
        })
    }
    async function exec(){
        await colorChange('red');
        await colorChange('orange');
        await colorChange('yellow');
        await colorChange('green');
        await colorChange('blue');
    }
    exec();
</script>

</html>