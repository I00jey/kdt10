<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방명록 만들기(리더님)</title>

</head>

<body>
    방명록입니다. <br><br>
    <strong>작성자</strong> <input type="text" id="username"><br>
    <strong>내용</strong> <input type="text" size="100" id="content"><br><br>
    <button onclick="writeNote()">작성</button> <br>
    <br>
    <table border="1" cellspacing="1" cellpadding="10" id="table">
        <tr>
            <th>번호</th>
            <th>작성자</th>
            <th>내용</th>
            <th>작성일</th>
        </tr>
    </table>
    <script>
        // 전역변수 count 만들기
        // 전역변수 : 어디서든 script 태그 안에서 사용 가능
        let count = 0;
        function writeNote() {
            // 작성자, 내용 요소 선택 / 값 가져오기
            let user = document.getElementById('username').value;
            let content = document.getElementById('content').value;

            // 테이블 추가
            // 여러 개의 자식을 추가할 경우 : 거꾸로 추가해주면 됨
            // td를 만들기 -> td를 tr에 추가 -> tr을 통째로 table에 추가
            // 추가할 기존 요소 선택
            let table = document.getElementById('table');
            // 새로운 요소 만들기 tr, td(4개 번호, 작성자, 내용, 작성일)
            let tr = document.createElement('tr');

            // td 4개 만들기
            let td1 = document.createElement('td');
            let td2 = document.createElement('td');
            let td3 = document.createElement('td');
            let td4 = document.createElement('td');

            // td 안의 내용 값 채우기
            // td1 : 번호
            //count 1씩 증가
            count++;
            td1.innerText = count;
            // td2 : 작성자
            td2.innerText = user;
            // td3 : 내용
            td3.innerText = content;
            // td4 : 작성시간
            let date = new Date();
            td4.innerText = date.getFullYear() + '-' + (date.getMonth()+1) + '-'+date.getDate();
            // tr 요소에 만든 td들 자식요소로 추가
            tr.appendChild(td1);
            tr.appendChild(td2);
            tr.appendChild(td3);
            tr.appendChild(td4);
            // tr을 table 자식요소로 추가
            table.appendChild(tr);

            // 입력값 초기화
            // let username = document.getElementById('username');
            // let contents = document.getElementById('content');
            // username.value = ""
            // contents.value = ""

            // 입력값 초기화2
            let inputs = document.querySelectorAll('input'); // NoteList 반환 (배열)
            for(let i = 0; i < inputs.length ; i++){
                //inputs[i] : 위 초기화의 name, content라는 변수로 만들어준 요소과 같음
                inputs[i].value = '';
            }
        }
    </script>
</body>

</html>